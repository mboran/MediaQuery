if (self.CavalryLogger) { CavalryLogger.start_js(["K981F"]); }

__d("RTWebCallWindowOpener",["requireCond","cr:1099565"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:1099565")}),null);
__d("ZenonCallInviteModel",["BaseEventEmitter"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$ZenonCallInviteModel3=function(a){if(c.__currentRequest&&c.__currentRequest.model&&c.__currentRequest.model.ringID===a.ringID)switch(a.reason){case"hangup":c.__currentRequest.model=babelHelpers["extends"]({},c.__currentRequest.model,{type:"missed"});c.emit("callInvite",c.__currentRequest.model);break;default:c.dismiss();break}};c.$ZenonCallInviteModel2=function(a){var b;if(((b=c.__currentRequest)==null?void 0:(b=b.model)==null?void 0:b.type)==="ringing"){((b=c.__currentRequest)==null?void 0:(b=b.model)==null?void 0:b.ringID)!==a.ringID&&a.onDecline("InAnotherCall")}else c.__currentRequest={model:{controllerParams:a.controllerParams,inviterID:a.inviterID,participants:a.otherParticipants,requestingVideo:a.requestingVideo,ringID:a.ringID,thread:a.thread,type:a.isClientPermissableRing?"ringing":"unsupported_browser"},ringPayload:a},c.emit("callInvite",c.__currentRequest.model),a.isClientPermissableRing||a.onDecline("VersionUnsupported")};c.__eventSource=b;c.__currentRequest=null;return c}var c=b.prototype;c.getCurrentInvite=function(){var a;return(a=(a=this.__currentRequest)==null?void 0:a.model)!=null?a:null};c.startListening=function(a){a=a.callsBlocked;this.__currentRequest&&this.dismiss();this.stopListening();a?this.__eventSource.addListener("incomingRing",this.$ZenonCallInviteModel1):(this.__eventSource.addListener("incomingRing",this.$ZenonCallInviteModel2),this.__eventSource.addListener("ringCancel",this.$ZenonCallInviteModel3))};c.stopListening=function(){this.__eventSource.removeAllListeners("incomingRing"),this.__eventSource.removeAllListeners("ringCancel"),this.__currentRequest=null};c.dismiss=function(){this.__currentRequest=null,this.emit("callInvite",Object.freeze(null))};c.accept=function(a,b){if(this.__currentRequest){var c;((c=this.__currentRequest.model)==null?void 0:c.type)==="ringing"&&this.__currentRequest.ringPayload.onAccept(a,b);this.dismiss()}};c.decline=function(a,b){a===void 0&&(a="IgnoreCall");if(this.__currentRequest){this.__currentRequest.ringPayload.onDecline(a,b);this.dismiss();return}};c.$ZenonCallInviteModel1=function(a){a.onDecline("IgnoreCall","CallsBlocked")};return b}(b("BaseEventEmitter"));e.exports=a}),null);
__d("delegateZenonCallInviteModel",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a.getCurrentInvite=b.getCurrentInvite.bind(b),a.startListening=b.startListening.bind(b),a.stopListening=b.stopListening.bind(b),a.dismiss=b.dismiss.bind(b),a.accept=b.accept.bind(b),a.decline=b.decline.bind(b),b.addListener("callInvite",function(b){a.emit("callInvite",b)})}e.exports=a}),null);
__d("ZenonCallWindowController",["Promise","FBLogger","ZenonCallWindowErrors"],(function(a,b,c,d,e,f){"use strict";var g=b("ZenonCallWindowErrors").OpeningAnotherCallError;a=function(){function a(a,b){var c=b.callWindowInitializerResource,d=b.callWindowOpener;b=b.uriBuilderResource;this.$2=null;this.$3=!1;this.$5=null;this.$1=a;this.$7=b;this.$4=c;this.$6=d}var c=a.prototype;c.initCall=function(a){var c=this;if(this.$3)throw new g();try{if(this.$2&&!this.$2.closed&&a.joinContext.type==="thread"&&this.$2.inCallWith===a.joinContext.thread.id){this.$2.focus();return[this.$2,b("Promise").resolve()]}}catch(a){b("FBLogger")("rtc_www").catching(a).warn("Failed to access inCallWith on call window")}var d=this.$6.openWindow(a);this.$2&&(this.$2.closed||this.$2.close(),this.$2=null);this.$2=d;this.$3=!0;return[d,b("Promise").all([this.$7.load(),this.$4.load()]).then(function(b){var d=b[0];b=b[1];c.$5===null&&(c.$5=new b(c.$1,new d(c.$1)));return c.$5.initCall(c.$2,a)})["finally"](function(){c.$3=!1})]};return a}();e.exports=a}),null);
__d("ZenonParentCallSummaryLogProcessor",["CurrentUser","FBRTCCallSummaryStore","ZenonCallSummary","ZenonDismissReason","gkx","pageID"],(function(a,b,c,d,e,f){"use strict";var g=b("ZenonDismissReason").ZenonDismissReason;a=function(){function a(a){this.$2=b("FBRTCCallSummaryStore").getInstance(),this.$3=a.protocol,this.$3==="mw"&&(a.peerID="MW_PEER_ID"),this.$1=new(b("ZenonCallSummary"))(a)}var c=a.prototype;c.$4=function(a){if(a!=null){a=a.deviceID;a=a==="mobile";this.$1.setIsPeerMobile(a)}};c.processEvent=function(a){switch(a.name){case"inviteResponded":this.$1.onInviteResponded();break;case"inviteReceived":this.$1.onInviteReceived();this.$4(a.remoteDeviceInfo);break;case"callEnded":this.$5(a);break;case"callAccepted":this.$1.onCallAccepted(a.trigger);this.$1.save(this.$2);break;case"popupOpened":this.$6(a);this.$1.save(this.$2);break}};c.$6=function(a){this.$1.setInitByPageID(b("pageID")),this.$1.setInitByAppID(b("CurrentUser").getAppID()),this.$1.onCallEnded(g.CLIENT_ERROR,!1,!0,a.isPopupBlocked?"PopupBlocked":"PopupPending"),this.$1.save(this.$2)};c.$5=function(a){if(this.$3==="mw"&&a.isRemoteEnded)return;var c=a.endCallReason,d=a.isRemoteEnded;a=a.endCallSubreason;var e=b("gkx")("1148995");if(!e&&c===g.OTHER_INSTANCE_HANDLED&&d)return;this.$1.onCallEnded(c,d,!1,a);this.$1.save(this.$2)};return a}();e.exports=a}),null);
__d("ZenonCollisionContext",[],(function(a,b,c,d,e,f){function a(a){var b=null;a.groupThreadID!=null?b={id:a.groupThreadID,type:2}:a.peerID!=null&&(b={id:a.peerID,type:1});return b}e.exports={getThreadIDAndTypeFromCollisionContext:a}}),null);
__d("LazyLoadInstance",["promiseDone"],(function(a,b,c,d,e,f){"use strict";var g={NOT_READY:0,LOADING:1,READY:2};a=function(){function a(a,b){this.$1={instantiate:b,moduleReference:a,stage:g.NOT_READY}}var c=a.prototype;c.get=function(a){switch(this.$1.stage){case g.NOT_READY:b("promiseDone")(this.$2(this.$1),a);break;case g.LOADING:b("promiseDone")(this.$1.instancePromise,a);break;case g.READY:a(this.$1.instance);break}};c.getNow=function(){return this.$1.stage===g.READY?this.$1.instance:null};c.preload=function(){this.$1.stage===g.NOT_READY&&this.$2(this.$1)};c.$2=function(a){var b=this,c=a.instantiate;a=a.moduleReference;a=a.load().then(function(a){a=c(a);b.$1={instance:a,stage:g.READY};return a});this.$1={instancePromise:a,stage:g.LOADING};return a};return a}();e.exports=a}),null);
__d("ZenonOfferStorage",["CacheStorage"],(function(a,b,c,d,e,f){var g="localstorage",h="RTC_",i="offer",j="offer_msg",k={writePeerOfferToStorage:function(a,b){a=k.getStorage(a,j);k._storeData(a,i,b)},_storeData:function(a,b,c){c={__t:Date.now(),__d:c};a.set(b,c)},getStorage:function(a,c){return new(b("CacheStorage"))(g,""+h+a+"_"+c+"_")}};e.exports=k}),null);
__d("ZenonParentSignalingClient",["ZenonDebugLogger","ZenonSignalingTypes","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("ZenonSignalingTypes").ZenonRemoteSdpResponseStatus;a=function(){function a(a,c,d,e){var f=this;this.remoteSignalingID=null;this.$4="init";this.$6=null;this.$7=null;this.$8=function(){};this.$9=function(a,c,d){b("ZenonDebugLogger").getInstance().logStateMachine("ParentSignalingClient",f.$4,"received "+a.eventName,f.$1);switch(a.eventName){case"inviteRequest":f.$11(a,c,d);break;case"remoteSdpRequest":f.$12(a,c);break;case"terminateRequest":f.$13(a,c,d);break}};this.$1=a;this.$3=d;this.$5=e;this.$2=c;c.setReceiver(this.$9)}var c=a.prototype;c.setSignalingEventHandlers=function(a){if(this.$6!=null){b("recoverableViolation")("setSignalingEventHandlers should only be called once, to avoid accidentally losing handlers.","rtc_www");return}this.$6=a};c.setLoggingEventHandler=function(a){this.$8=a};c.getSignalingId=function(){return this.$1};c.sendDismiss=function(a){this.$4="terminated";a={eventName:"terminateRequest",reason:a,shouldInformPeer:!0,fromJoinResponse:!1};this.$10(a)};c.receiveMessage=function(a){this.$2.receiveMessage(a)};c.isTerminated=function(){return this.$4=="terminated"};c.sendAnswerIntent=function(){if(this.$4=="inviteAcknowledged"){this.$4="answered";var a={eventName:"answerIntentRequest"};this.$10(a)}else throw b("unrecoverableViolation")("sendAnswerIntent called in unexpected state "+this.$4,"rtc_www")};c.respondToInvite=function(a){if(this.$4=="inviteReceived"){if(this.$7==null)throw b("unrecoverableViolation")("respondToInvite called without inviteMessageId being populated first","rtc_www");this.$4="inviteAcknowledged";a={eventName:"inviteResponse",ackMessageId:this.$7,status:a};this.$10(a)}else throw b("unrecoverableViolation")("respondToInvite called in unexpected state "+this.$4,"rtc_www")};c.sendInvite=function(a,c){throw b("unrecoverableViolation")("sendInvite called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendSdp=function(a,c){throw b("unrecoverableViolation")("sendSdp called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendIceCandidate=function(a){throw b("unrecoverableViolation")("sendIceCandidate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendMediaUpdate=function(a){throw b("unrecoverableViolation")("sendMediaUpdate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendAddParticipantsMessage=function(a){throw b("unrecoverableViolation")("sendAddParticipantsMessage called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendClientInfo=function(a){throw b("unrecoverableViolation")("sendClientInfo called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.$10=function(a){b("ZenonDebugLogger").getInstance().logStateMachine("ParentSignalingClient",this.$4,"sending "+a.eventName,this.$1),this.$3.sendEvent(a)};c.$11=function(a,b,c){this.$4=="init"&&(this.$4="inviteReceived",this.$7=b,this.$5(a,c,this))};c.$13=function(a,b,c){if(this.$4!="terminated"){this.$4="terminated";c={eventName:"dismissResponse",ackMessageId:b};this.$3.sendEvent(c);this.$6&&this.$6.onDismissReceived&&this.$6.onDismissReceived(this.$1,a.reason)}};c.$12=function(a,b){b={eventName:"remoteSdpResponse",ackMessageId:b,type:a.sdp.type,acknowledgedVersion:a.sdp.version,negotiateType:a.negotiateType,status:g.OK};this.$3.sendEvent(b)};return a}();e.exports=a}),null);
__d("ZenonParentCallsManager",["BaseEventEmitter","JSResource","LazyLoadInstance","ZenonCallLogger","ZenonCollisionContext","ZenonDismissReason","ZenonOfferStorage","ZenonP2PMessageTypes","ZenonParentCallSummaryLogProcessor","ZenonParentSignalingClient","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("ZenonCollisionContext").getThreadIDAndTypeFromCollisionContext,h=b("ZenonDismissReason").ZenonDismissReason,i=b("ZenonDismissReason").endCallToDismissReason,j=b("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$ZenonParentCallsManager4=new Map();d.$ZenonParentCallsManager5=new Set();d.$ZenonParentCallsManager6=new Map();d.$ZenonParentCallsManager7=new Map();d.$ZenonParentCallsManager8=new Map();d.getRawP2PMessages=function(a){return(a=d.$ZenonParentCallsManager7.get(a))!=null?a:null};d.getMWRingRequest=function(a){return(a=d.$ZenonParentCallsManager6.get(a))!=null?a:null};d.onInviteReceived=function(a,b,c){var e=c.getSignalingId();c.setSignalingEventHandlers({onDismissReceived:d.onDismissReceived});var f=a.inviterID,h=a.otherParticipants,i=a.requestingVideo;a=a.roomInfo;var j="zenon_incoming_call_dialog",k=d.$ZenonParentCallsManager9({protocol:b,peerID:f,isCaller:!1,callTrigger:j,callID:e,isVideo:i});k.log({name:"inviteReceived"});j=d.$ZenonParentCallsManager3.isSupportedClientForProtocol(b);var l=j?"OK":"NOT_SUPPORTED";c.respondToInvite(l);k.log({name:"inviteResponded"});l={id:"0",type:2};if(a.context){var m;l=(m=g(a.context))!=null?m:l}l={ringID:e,inviterID:f,otherParticipants:h,requestingVideo:i,thread:l,isClientPermissableRing:j,onAccept:function(a,g){var h=g.isPopupBlocked;g=g.trigger;k.log({name:"callAccepted",trigger:g});d.$ZenonParentCallsManager11(f);c.sendAnswerIntent();d.$ZenonParentCallsManager10(a,{isVideo:i,protocol:b,isPopupBlocked:h,callTrigger:g,callID:e,peerID:f})},onDecline:function(a,b){b===void 0&&(b=null),d.onDecline(e,k,a,b)},controllerParams:{callContext:a.name,callID:e,serverInfoData:(h=(m=a.context)==null?void 0:m.serverInfoData)!=null?h:null,configuration:b}};d.emit("incomingRing",l)};d.onDismissReceived=function(a,b){var c=d.$ZenonParentCallsManager12(b);c={ringID:a,reason:c};d.emit("ringCancel",c);c=d.$ZenonParentCallsManager4.get(a);c!=null&&c.log({name:"callEnded",endCallReason:b,isRemoteEnded:!0})};d.$ZenonParentCallsManager3=c;d.$ZenonParentCallsManager2=new(b("LazyLoadInstance"))(b("JSResource")("ZenonSignalingParentTransport").__setRef("ZenonParentCallsManager"),function(a){a=new a();a.init(d.getRawP2PMessages,d.getMWRingRequest);return a});d.$ZenonParentCallsManager1=new(b("LazyLoadInstance"))(b("JSResource")("ZenonSignalingClientManager").__setRef("ZenonParentCallsManager"),function(a){return new a(b("ZenonParentSignalingClient"),d.onInviteReceived)});return d}var d=c.prototype;d.startOutgoingCallIntent=function(a,b){var c=b.peerID,d=b.callID,e=b.callTrigger,f=b.protocol,g=b.isVideo;this.$ZenonParentCallsManager9({peerID:c,callID:d,callTrigger:e,protocol:f,isCaller:!0,isVideo:g});this.$ZenonParentCallsManager10(a,b)};d.$ZenonParentCallsManager9=function(a){var c=a.callID,d=a.callTrigger,e=a.isCaller,f=a.peerID,g=a.protocol;a=a.isVideo;var h=this.$ZenonParentCallsManager4.get(c);!h?(h=new(b("ZenonCallLogger"))({callID:c,peerID:f,callTrigger:d,isCaller:e,protocol:g,isVideo:a},[b("ZenonParentCallSummaryLogProcessor")]),this.$ZenonParentCallsManager4.set(c,h)):b("recoverableViolation")("Call logger key collision in parentCallsManager for callID: "+c,"rtc_www");return h};d.$ZenonParentCallsManager10=function(a,b){var c=b.callID;b.isVideo;b=b.isPopupBlocked;this.$ZenonParentCallsManager2.get(function(b){b.verificationNonce=a});this.$ZenonParentCallsManager5.add(c);c=this.$ZenonParentCallsManager4.get(c);c!=null&&c.log({name:"popupOpened",isPopupBlocked:b})};d.initListeners=function(a){var b=this;for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e.subscribe(function(a){return b.onMessageReceived(a)},function(a){return b.onRawP2PMessageReceived(a)},function(a){return b.onRawMWMessageReceived(a)})}};d.onMessageReceived=function(a){var b=a.getHeader().signalingID;if(b!=null&&this.$ZenonParentCallsManager5.has(b))return;this.$ZenonParentCallsManager1.get(function(b){b.receiveMessage(a)})};d.onRawP2PMessageReceived=function(a){var b=String(a.from);if(a.msg_type!==j.OFFER){var c=this.$ZenonParentCallsManager7.get(b);c||(c=[],this.$ZenonParentCallsManager7.set(b,c));c.push(a)}else this.$ZenonParentCallsManager8.set(b,a)};d.onRawMWMessageReceived=function(a){var b=a.jsonPayload,c=b.header;b=b.body;b=b.ringRequest;if(b){b=c.conferenceName;this.$ZenonParentCallsManager6.set(b,a)}};d.onDecline=function(a,c,d,e){e===void 0&&(e=null),this.$ZenonParentCallsManager1.get(function(f){f=f.getSignalingClient(a);if(f){var g=i(d);d!=="NoAnswerTimeout"&&d!=="VersionUnsupported"&&e!=="CallsBlocked"&&f.sendDismiss(g);c.log({name:"callEnded",endCallReason:g,isRemoteEnded:!1,endCallSubreason:e})}else b("recoverableViolation")("signaling client should be defined","rtc_www")})};d.removeListeners=function(a){for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d.unsubscribe()}};d.$ZenonParentCallsManager12=function(a){switch(a){case h.OTHER_INSTANCE_HANDLED:case h.ANSWERED_ON_ANOTHER_DEVICE:case h.REJECTED_ON_ANOTHER_DEVICE:return"other_dismiss";default:return"hangup"}};d.$ZenonParentCallsManager11=function(a){var c=this.$ZenonParentCallsManager8.get(a);c&&b("ZenonOfferStorage").writePeerOfferToStorage(a,c)};return c}(b("BaseEventEmitter"));e.exports=a}),null);
__d("MercuryIgnoredBlockedParticipants.re",["bs_curry","MercuryIgnoredBlockedParticipants.bs"],(function(a,b,c,d,e,f){a=function(a,c,d){a=b("bs_curry")._3(b("MercuryIgnoredBlockedParticipants.bs").qualifiesAs,a,c,d);return a};f.qualifiesAs=a;c=function(a,c,d){a=b("bs_curry")._3(b("MercuryIgnoredBlockedParticipants.bs").shouldShowBlock,a,c,d);return a};f.shouldShowBlock=c}),null);
__d("MessengerGroupUtils.bs",["MessengerView","SearchableEntry","MessengerActions","MessengerComposerActions"],(function(a,b,c,d,e,f){"use strict";function a(a,c){a=a.filter(function(a,b,d){if(a==null)return!1;else return a.fbid!==c});a.forEach(function(a,c,d){c={uniqueID:a.fbid,title:a.name,auxiliaryData:0};d=new(b("SearchableEntry"))(c);b("MessengerComposerActions").addToken(d);return 0});b("MessengerActions").changeDetailView(b("MessengerView").DETAIL.COMPOSE);return 0}f.createGroupThread=a}),null);
__d("MessengerGroupUtils.re",["bs_curry","MessengerGroupUtils.bs"],(function(a,b,c,d,e,f){a=function(a,c){a=b("bs_curry")._2(b("MessengerGroupUtils.bs").createGroupThread,a,c);return a};f.createGroupThread=a}),null);
__d("WorkForeignEntityInfo.re",["WorkForeignEntityInfo.bs"],(function(a,b,c,d,e,f){a=b("WorkForeignEntityInfo.bs").isCoworker;f.isCoworker=a;c=b("WorkForeignEntityInfo.bs").areAllCoworkers;f.areAllCoworkers=c}),null);
__d("WIGFileSelector.react",["CometFileSelector.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.jsx(b("CometFileSelector.react"),babelHelpers["extends"]({},a))}e.exports=a}),null);
__d("WorkGalahadAsyncStatefulActionHelper",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");var g=a.useReducer;function h(a,b){switch(b.type){case"reset":return{loading:!1,requested:!1,error:null};case"startAction":return babelHelpers["extends"]({},a,{loading:!0,error:null});case"actionSuccess":return babelHelpers["extends"]({},a,{loading:!1,requested:!0});case"actionFailed":return babelHelpers["extends"]({},a,{loading:!1,requested:!0,error:b.error});default:return a}}c={useAsyncActionReducer:function(){var a=g(h,{loading:!1,requested:!1,error:null}),b=a[0],c=b.error,d=b.loading;b=b.requested;a=a[1];var e=!d&&b&&c==null,f=!d&&b&&c!=null;return[{loading:d,requested:b,error:c,isSuccessful:e,isFailed:f},a]}};e.exports=c}),null);
__d("WorkGalahadBlockChatDropdownMenuItem.react",["fbt","CurrentUser","JSResource","MercuryThreadActions","React","WIGDropdownMenuItem.react","useWIGLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("JSResource")("WorkGalahadConfirmBlockThreadDialog.react").__setRef("WorkGalahadBlockChatDropdownMenuItem.react");function a(a){var c=a.isBlocked,d=a.thread;a=b("useWIGLazyDialog")(i);var e=a[0];return h.jsx(b("WIGDropdownMenuItem.react"),{id:"block-chat",icons:"friend_block",label:c?g._("\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"):g._("\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"),onClick:function(){c?b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID()).unblockOnMessengerDotCom(d.thread_id):e({thread:d})}})}e.exports=a}),null);
__d("WorkGalahadChangeChatEmojiDropdownMenuItem.react",["fbt","JSResource","React","WIGDropdownMenuItem.react","useWIGLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=a.thread;a=b("useWIGLazyDialog")(b("JSResource")("WorkGalahadChangeEmojiDialog.react").__setRef("WorkGalahadChangeChatEmojiDropdownMenuItem.react"));var d=a[0];return h.jsx(b("WIGDropdownMenuItem.react"),{id:"change-chat-emoji",icons:"emoji",label:g._("\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u043c\u0430\u0439\u043b\u0438\u043a"),onClick:function(){d({thread:c})}})}e.exports=a}),null);
__d("WorkGalahadDropdownMenuDataContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext({width:null,parentMenuId:null,activeMenu:null,prevActiveMenu:null,menus:{},registerSubmenu:function(){},navigateTo:function(){},hideMenu:function(){},refreshHeight:function(){},submenuRefs:{}});e.exports=c}),null);
__d("WorkGalahadDropdownMenuVersionContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext(!1);e.exports=c}),null);
__d("WorkGalahadDropdownSubmenuContainerContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext(null);e.exports=c}),null);
__d("WorkGalahadDropdownMenuContent.react",["cx","fbt","FlexLayout.react","Link.react","Locale","React","ReactDOMComet","WorkGalahadDropdownMenuDataContext","WorkGalahadDropdownMenuItem.react","WorkGalahadDropdownMenuVersionContext","WorkGalahadDropdownSubmenuContainerContext"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");d=b("React");var j=d.useCallback,k=d.useContext,l=d.useEffect,m=d.useMemo,n=d.useRef,o=d.useState,p=b("ReactDOMComet").createPortal,q="@@root";function a(a){var c=a.items;a.label;var d=a.navigateToRootOnHide,e=a.onClose,f=a.shown,g=a.width,h=n({});a=n(null);var k=o(0),p=k[0],s=k[1];k=o(q);var t=k[0],u=k[1];k=o("");var v=k[0],w=k[1];k=o((k={},k[q]=null,k));var x=k[0],y=k[1],z=j(function(a,b){if(x[a]==null){var c;y(babelHelpers["extends"]({},x,(c={},c[a]=b,c)))}},[x]),A=j(function(a){a=a!=null?a:t;a=h.current[a]&&h.current[a].scrollHeight;a>0&&a!==p&&s(a)},[t,p,s]),B=j(function(a){w(t),u(a),A(a)},[t,u,w,A]);k=m(function(){return{width:g,parentMenuId:null,activeMenu:t,prevActiveMenu:v,menus:x,registerSubmenu:z,navigateTo:B,hideMenu:e,refreshHeight:A,submenuRefs:h.current}},[g,t,v,x,z,B,e,A]);l(function(){f&&A(),d===!0&&!f&&B(q)},[f,c,A,B,d]);var C=Object.keys(x).map(function(a){var b=t===a,d=b?g:0;return i.jsx("div",{ref:function(b){h.current[a]!==b&&b!=null&&(h.current[a]=b,A())},style:{width:d},className:"_74li"+(b?"":" _74lj"),children:a===q?i.jsx(r,{menuId:q,items:c}):null},a)});return i.jsx("div",{className:"_74lf",style:{height:p>0?p:"auto"},children:i.jsx(b("WorkGalahadDropdownMenuDataContext").Provider,{value:k,children:i.jsx(b("WorkGalahadDropdownSubmenuContainerContext").Provider,{value:a.current,children:i.jsx(b("FlexLayout.react"),{direction:"horizontal",children:C})})})})}function r(a){var c=a.items,d=a.menuId,e=k(b("WorkGalahadDropdownMenuDataContext"));a=e.activeMenu;var f=e.menus,g=e.navigateTo,j=e.parentMenuId,l=e.prevActiveMenu,n=e.width,o=j!=null&&g!=null?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"_76gk",children:i.jsxs(b("Link.react"),{className:"_74lg",onClick:function(){g(j)},children:[i.jsx("div",{className:"_74lh"+(b("Locale").isRTL()?" _7hnl":"")}),h._("\u041d\u0430\u0437\u0430\u0434")]})}),i.jsx(b("WorkGalahadDropdownMenuItem.react").Separator,{},"back-button-separator")]},"go-back-button"):null,p=a===d;a=l!=null&&a===f[l];f=p&&a&&!b("Locale").isRTL()||!p&&!a&&!b("Locale").isRTL()?"right":"left";l=m(function(){return babelHelpers["extends"]({},e,{parentMenuId:d})},[e,d]);return i.jsx("div",{style:{"float":f,width:n},children:i.jsx(b("WorkGalahadDropdownMenuDataContext").Provider,{value:l,children:i.jsxs(b("WorkGalahadDropdownMenuVersionContext").Provider,{value:!0,children:[o,c]})})},d)}function c(a){var c=a.items;a=a.menuId;var d=k(b("WorkGalahadDropdownMenuDataContext")),e=d.parentMenuId,f=d.registerSubmenu;d=d.submenuRefs;f!=null&&e!=null&&f(a,e);return d[a]==null?null:p(i.jsx(r,{items:c,menuId:a}),d[a])}a.Submenu=c;e.exports=a}),null);
__d("useWorkGalahadEventEmitter",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";var g=new(b("EventEmitter"))();function a(a){var b=function(b){a.forEach(function(a){return g.addListener(a,b)})},c=function(){a.forEach(function(a){return g.emit(a)})};return[b,c]}e.exports=a}),null);
__d("WorkGalahadAmbientNUX.react",["React","XUIAmbientNUX.react","useWorkGalahadEventEmitter"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useEffect,i=c.useState;function a(a){var c=a.nuxData,d=i(a.shown),e=d[0],f=d[1];h(function(){e&&c.onShow},[e,c.onShow]);d=b("useWorkGalahadEventEmitter")([c.event]);var j=d[0];h(function(){j(function(){f(!0)})},[]);return g.jsx(b("XUIAmbientNUX.react"),{contextRef:a.contextRef,shown:e,onCloseButtonClick:c.onDismiss,position:"right",children:c.content})}e.exports=a}),null);
__d("WorkGalahadDropdownMenuItemIcon",["ix","asset"],(function(a,b,c,d,e,f,g){"use strict";a={badge_empty:{normal:g("1069559"),secondary:g("1069558"),hovered:g("1069557")},badge_star:{normal:g("1019001"),secondary:g("1019000"),hovered:g("1018990")},building_city:{normal:g("1018783"),secondary:g("1063489"),hovered:g("1063482")},checkmark_selected:{normal:g("801626"),secondary:g("801625"),hovered:g("730444")},checkmark_unselected:{normal:g("801645"),secondary:g("801645"),hovered:g("730444")},cross_circle:{normal:g("608935"),secondary:g("608935"),hovered:g("988342")},cross_circle_dark:{normal:g("1063503"),secondary:g("772312"),hovered:g("988342")},envelope:{normal:g("870156"),secondary:g("870155"),hovered:g("870142")},envelope_open:{normal:g("801653"),secondary:g("801652"),hovered:g("794296")},settings:{normal:g("801682"),secondary:g("801681"),hovered:g("794302")},bell_null:{normal:g("801618"),secondary:g("685151"),hovered:g("730428")},settings_filled:{normal:g("801682"),secondary:g("801681"),hovered:g("794302")},bell:{normal:g("801618"),secondary:g("685151"),hovered:g("730428")},bell_null_cross:{normal:g("801611"),secondary:g("685144"),hovered:g("730419")},news_feed:{normal:g("801666"),secondary:g("801665"),hovered:g("680711")},tag:{normal:g("801700"),secondary:g("801699"),hovered:g("680725")},pushpin:{normal:g("806384"),secondary:g("806383"),hovered:g("806373")},pushpin_slash:{normal:g("806364"),secondary:g("806363"),hovered:g("806361")},report:{normal:g("806407"),secondary:g("806406"),hovered:g("806399")},leave:{normal:g("806326"),secondary:g("806325"),hovered:g("806315")},leave_door:{normal:g("878278"),secondary:g("878277"),hovered:g("878270")},badge_admin:{normal:g("806201"),secondary:g("790553"),hovered:g("806194")},badge_moderator:{normal:g("806229"),secondary:g("806228"),hovered:g("806214")},line_chart:{normal:g("806349"),secondary:g("806348"),hovered:g("806341")},box:{normal:g("806257"),secondary:g("806256"),hovered:g("680618")},cross:{normal:g("528597"),secondary:g("772336"),hovered:g("879994")},friend_add:{normal:g("806303"),secondary:g("806302"),hovered:g("680677")},friend_confirm:{normal:g("1063516"),secondary:g("1063515"),hovered:g("680684")},friend_list:{normal:g("1063531"),secondary:g("1063530"),hovered:g("1063526")},friends:{normal:g("1063550"),secondary:g("1063549"),hovered:g("945222")},friends_plus:{normal:g("826182"),secondary:g("826181"),hovered:g("680691")},follow:{normal:g("806273"),secondary:g("806272"),hovered:g("679399")},unfollow:{normal:g("806426"),secondary:g("798813"),hovered:g("806421")},customize:{normal:g("819017"),secondary:g("819016"),hovered:g("819009")},text:{normal:g("819035"),secondary:g("819034"),hovered:g("819030")},photo:{normal:g("818996"),secondary:g("818995"),hovered:g("818988")},emoji:{normal:g("773375"),secondary:g("818938"),hovered:g("773368")},pencil:{normal:g("589253"),secondary:g("826263"),hovered:g("826254")},pencil_underline:{normal:g("818971"),secondary:g("818970"),hovered:g("818965")},color:{normal:g("818955"),secondary:g("818954"),hovered:g("818947")},trash:{normal:g("773387"),secondary:g("822714"),hovered:g("730263")},privacy:{normal:g("822703"),secondary:g("822702"),hovered:g("695368")},caution_octagon:{normal:g("822686"),secondary:g("822685"),hovered:g("822678")},hide:{normal:g("823983"),secondary:g("823982"),hovered:g("823975")},undo:{normal:g("911405"),secondary:g("854104"),hovered:g("854099")},confirmation:{normal:g("824945"),secondary:g("824944"),hovered:g("824934")},claim:{normal:g("824972"),secondary:g("824971"),hovered:g("824961")},download:{normal:g("826109"),secondary:g("826108"),hovered:g("826101")},friend_request:{normal:g("826163"),secondary:g("826162"),hovered:g("826152")},minus_circle:{normal:g("826241"),secondary:g("826240"),hovered:g("826230")},megaphone:{normal:g("826217"),secondary:g("826216"),hovered:g("826206")},envelope_send:{normal:g("826135"),secondary:g("826134"),hovered:g("826124")},upload:{normal:g("838811"),secondary:g("822617"),hovered:g("710277")},arrow_move:{normal:g("838804"),secondary:g("838803"),hovered:g("710258")},bookmark:{normal:g("848888"),secondary:g("848887"),hovered:g("834166")},bookmark_cross:{normal:g("989342"),secondary:g("1144193"),hovered:g("1144190")},list_bullet:{normal:g("878295"),secondary:g("878295"),hovered:g("875911")},language:{normal:g("878254"),secondary:g("878253"),hovered:g("878243")},moon:{normal:g("878319"),secondary:g("878318"),hovered:g("878308")},moon_filled:{normal:g("878307"),secondary:g("878306"),hovered:g("878308")},friend_block:{normal:g("890861"),secondary:g("890860"),hovered:g("890853")},square_corner_bottom_right_box:{normal:g("894025"),secondary:g("894024"),hovered:g("894022")},resize_down:{normal:g("528441"),secondary:g("910581"),hovered:g("910576")},resize_up:{normal:g("910600"),secondary:g("910599"),hovered:g("910592")},broom:{normal:g("1217974"),secondary:g("1217973"),hovered:g("1217969")},group:{normal:g("1063568"),secondary:g("1063567"),hovered:g("680698")},group_checkmark:{normal:g("924159"),secondary:g("924158"),hovered:g("924154")},group_arrow_right:{normal:g("1004043"),secondary:g("1004042"),hovered:g("1004044")},group_plus:{normal:g("1001650"),secondary:g("822573"),hovered:g("668838")},play_circle:{normal:g("950126"),secondary:g("950125"),hovered:g("950115")},stop:{normal:g("950150"),secondary:g("950149"),hovered:g("920410")},info_cursive:{normal:g("965093"),secondary:g("965092"),hovered:g("965094")},copy:{normal:g("971192"),secondary:g("971191"),hovered:g("971193")},workplace:{normal:g("971174"),secondary:g("971173"),hovered:g("665265")},magic_wand:{normal:g("974974"),secondary:g("974973"),hovered:g("974966")},slash_circle:{normal:g("972069"),secondary:g("972068"),hovered:g("972061")},documents:{normal:g("998931"),secondary:g("822538"),hovered:g("822533")},direct:{normal:g("1001325"),secondary:g("1001324"),hovered:g("981982")},friend_edit:{normal:g("1001338"),secondary:g("988395"),hovered:g("1001333")},friend_remove:{normal:g("1001357"),secondary:g("1001356"),hovered:g("1001349")},import_export:{normal:g("1001973"),secondary:g("826189"),hovered:g("826190")},link:{normal:g("1010718"),secondary:g("822584"),hovered:g("822579")},privacy_unlocked:{normal:g("1032080"),secondary:g("1032079"),hovered:g("1032072")},briefcase:{normal:g("1032056"),secondary:g("1032055"),hovered:g("1032045")},folder:{normal:g("1067898"),secondary:g("822563"),hovered:g("822558")},caution:{normal:g("1072191"),secondary:g("1072190"),hovered:g("680633")},post:{normal:g("1079048"),secondary:g("1079047"),hovered:g("1079040")},life_preserver:{normal:g("1098116"),secondary:g("1098115"),hovered:g("1098108")},bulb:{normal:g("1109712"),secondary:g("1109711"),hovered:g("1109701")},star:{normal:g("1209598"),secondary:g("972090"),hovered:g("972079")},star_slash:{normal:g("1209588"),secondary:g("1209587"),hovered:g("1209582")},plus_circle:{normal:g("1103282"),secondary:g("772370"),hovered:g("1103275")},arrow_curved_right:{normal:g("1144180"),secondary:g("1144179"),hovered:g("1144175")},alarm_clock:{normal:g("1144162"),secondary:g("1144161"),hovered:g("1144154")},messages_compose:{normal:g("971853"),secondary:g("971852"),hovered:g("971845")},desktop_feed:{normal:g("1181340"),secondary:g("1181339"),hovered:g("1181335")},account_switch:{normal:g("1219996"),secondary:g("1219995"),hovered:g("1219988")},workplace_chat:{normal:g("1226793"),secondary:g("688834"),hovered:g("822621")},comment:{normal:g("530689"),secondary:g("1295024"),hovered:g("680654")},comment_slash:{normal:g("1295010"),secondary:g("1295009"),hovered:g("1295008")},bar_chart:{normal:g("1410919"),secondary:g("1410918"),hovered:g("1410840")}};e.exports=a}),null);
__d("WorkGalahadHoverableImage.react",["Image.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.className,d=a.hovered,e=a.icons;a=a.selected;var f=e.normal;a?f=e.selected!=null?e.selected:f:d&&(f=e.hovered!=null?e.hovered:f);return g.jsx(b("Image.react"),{className:c,src:f})}e.exports=a}),null);
__d("WorkGalahadDropdownMenuItem.react",["ix","cx","Image.react","Link.react","Locale","React","WIGDropdownMenuItem.react","WorkGalahadAmbientNUX.react","WorkGalahadDropdownMenu__DEPRECATED.react","WorkGalahadDropdownMenuDataContext","WorkGalahadDropdownMenuItemIcon","WorkGalahadDropdownMenuVersionContext","WorkGalahadHoverableImage.react","WorkGalahadHoverHelper","XUISpinner.react","XUIText.react","asset","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");f=b("React");var j=f.useContext,k=f.useRef,l=f.useState,m=b("WorkGalahadHoverHelper").useHover;function a(a){var c=j(b("WorkGalahadDropdownMenuDataContext")),d=m(),e=d[0];d=d[1];var f=k(null),h=l(!1),n=h[0],o=h[1];h=j(b("WorkGalahadDropdownMenuVersionContext"));if(!h)return i.jsx(b("WIGDropdownMenuItem.react"),babelHelpers["extends"]({},a));h=a.LinkRenderer;var p=a.ajaxify,q=a.desc,r=a.hideOnClick,s=r===void 0?!0:r;r=a.href;var t=a.icons,u=a.id,v=a.isDisabled;v=v===void 0?!1:v;var w=a.isLoading;w=w===void 0?!1:w;var x=a.isStatic;x=x===void 0?!1:x;var y=a.items,z=a.label,A=a.navigateBackOnClick,B=A===void 0?!1:A,C=a.nux,D=a.onClick;A=a.rel;var E=a.target;a=a.testid;a=z!=null;var F=q!=null,G=t!=null,H=a&&!F,I=y!=null&&y.length>0,J=!(w||x||v),K=null;t!=null&&(K=b("WorkGalahadDropdownMenuItemIcon")[t]);var L=b("Locale").isRTL()?g("801596"):g("685180");h=(h=h)!=null?h:function(a){var b=a.children;a.hovered;return b};var M=t==="checkmark_selected"||t==="checkmark_unselected"?{role:"checkbox","aria-checked":t==="checkmark_selected"}:void 0;return i.jsxs(i.Fragment,{children:[i.jsx("div",babelHelpers["extends"]({className:"_74ll","data-testid":void 0},d,{children:h({hovered:e,children:i.jsxs(b("Link.react"),babelHelpers["extends"]({},M,{className:"_78g3"+(I?" _74lm":"")+(J?"":" _74ln")+(w?" _7id9":"")+" _21op",href:J?r:void 0,target:E,onClick:function(a){if(J){C!=null&&n&&o(!1);var b=c.hideMenu,d=c.navigateTo,e=c.prevActiveMenu;D&&D(a);I&&d!=null&&u!=null?d(u):(B===!0&&d!=null&&e!=null&&d(e),s===!0&&b!=null&&b())}},ajaxify:J?p:void 0,rel:J?A:void 0,linkRef:function(a){return f.current=a},children:[a?i.jsxs("div",{className:"lenub8rc t36ehdhz oitujibm mu99tzkh",children:[i.jsx("div",{className:t!=null||w?"_74lo":"",children:w===!0?i.jsx(b("XUISpinner.react"),{size:"small"}):K!=null?i.jsx(b("WorkGalahadHoverableImage.react"),{icons:{normal:H?K.secondary:K.normal,hovered:K.hovered},hovered:x===!0?!1:e,selected:!1}):null}),i.jsx(b("XUIText.react"),{className:"_74lp"+(H?" _7d6w":"")+(v?" _8k97":"")+" _21op",display:"block",size:"body2",weight:F?"bold":void 0,children:typeof z==="function"?z({hovered:e}):z})]}):null,F?i.jsx(b("XUIText.react"),{className:"_74lq"+(a?" _7d6z":"")+(v?" _8k97":"")+(G?" _4m0t":""),display:"block",size:"body2",children:typeof q==="function"?q({hovered:e}):q}):null,e&&I?i.jsx("div",{className:"_74lr",children:i.jsx(b("Image.react"),{className:"_7vx_",src:L})}):null]}))})})),y!=null&&y.length>0?i.jsx(b("WorkGalahadDropdownMenu__DEPRECATED.react").Submenu,{menuId:u,items:y}):null,C!=null?i.jsx(b("WorkGalahadAmbientNUX.react"),{contextRef:function(){return f.current},shown:n,nuxData:C}):null]})}function c(){var a=j(b("WorkGalahadDropdownMenuVersionContext"));return!a?i.jsx(b("WIGDropdownMenuItem.react").Separator,{}):i.jsx("div",{className:"_74k2",children:i.jsx("div",{className:"_74k3"})})}function d(a){a=a.label;var c=m(),d=c[0];c=c[1];var e=j(b("WorkGalahadDropdownMenuVersionContext"));return!e?i.jsx(b("WIGDropdownMenuItem.react").Header,{label:a}):i.jsx("div",babelHelpers["extends"]({className:"_74k1"},c,{children:typeof a==="function"?a({hovered:d}):a}))}a.Separator=c;a.Header=d;e.exports=a}),null);
__d("WorkGalahadDropdownContextualDialog.react",["cx","AccessibleLayer","LayerHideOnBlur","LayerHideOnEscape","LayerTabIsolation","ReactAbstractContextualDialog","ReactLayer"],(function(a,b,c,d,e,f,g){"use strict";a=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({addedBehaviors:[b("AccessibleLayer"),b("LayerTabIsolation"),b("LayerHideOnBlur"),b("LayerHideOnEscape")],displayName:"WorkGalahadContextualDialog",theme:{wrapperClassName:"_76gj _53ii"}}));e.exports=a}),null);
__d("WorkGalahadDropdownMenuContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext({forceClose:!1});e.exports=c}),null);
__d("WorkGalahadDropdownMenu__DEPRECATED.react",["ContextualDialogNoArrow","ContextualLayerAutoFlip","React","WorkGalahadDropdownContextualDialog.react","WorkGalahadDropdownMenuContent.react","WorkGalahadDropdownMenuContext"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useCallback,i=c.useContext;function a(a){var c=a.width;c=c===void 0?300:c;var d=a.alignment,e=a.contextRef,f=a.onToggle,j=a.shown,k=a.label,l=a.position;l=l===void 0?"below":l;var m=a.items,n=a.offsetX,o=a.offsetY,p=a.navigateToRootOnHide;a=a.contextualLayerBehaviours;a=a===void 0?{ContextualLayerAutoFlip:b("ContextualLayerAutoFlip")}:a;var q=h(function(a){f!=null&&f(a)},[f]),r=i(b("WorkGalahadDropdownMenuContext"));r=r.forceClose;var s=6,t=l==="above"?-6:6;return g.jsx(b("WorkGalahadDropdownContextualDialog.react"),{arrowBehavior:b("ContextualDialogNoArrow"),alignment:d,autoFocus:!1,behaviors:a,hideOnBlur:!0,contextRef:e,onToggle:q,shown:j&&!r,position:l,width:c,offsetX:n!=null?n:s,offsetY:o!=null?o:t,label:k,children:g.jsx(b("WorkGalahadDropdownMenuContent.react"),{width:c,shown:j,label:k,items:m,navigateToRootOnHide:p,onClose:function(){return q(!1)}})})}a.Submenu=b("WorkGalahadDropdownMenuContent.react").Submenu;e.exports=a}),null);
__d("WorkGalahadChangeChatPhotoMenuItem.react",["fbt","AsyncRequest","FileInputUploader","LayerFadeOnHide","MercuryConfig","MercuryIDs","React","WIGFileSelector.react","WorkGalahadAsyncStatefulActionHelper","WorkGalahadDropdownMenuItem.react","XMessagingSetThreadImageController","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("React");var i=c.useCallback,j=b("WorkGalahadAsyncStatefulActionHelper").useAsyncActionReducer;function a(a){var c=a.desc,d=a.icons,e=a.label,f=a.threadID;a=j();var l=a[0],m=l.error,n=l.isFailed;l=l.loading;var o=a[1],p=i(function(){o({type:"actionFailed",error:g._("\u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430.")})},[]),q=i(function(a,c){a=c.response.payload;a=(c=a.metadata[0])==null?void 0:c.image_id;if(!a)return;c=b("XMessagingSetThreadImageController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setData({thread_id:b("MercuryIDs").getThreadFBIDFromThreadID(f),thread_image_id:a}).setHandler(function(){o({type:"actionSuccess"})}).setErrorHandler(function(a){p()}).send()},[f]),r=i(function(a){a=a[0];if(!a)return;o({type:"startAction"});a=new(b("FileInputUploader"))().setFiles({file:a}).setURI(b("MercuryConfig").upload_url).setAllowCrossOrigin(!0).setAllowCrossPageTransition(!0).setData({images_only:!0});a.subscribe("success",q);a.subscribe("failure",p);a.send()},[f,q,p]),s=null;a=function(a){var c=a.children;return h.jsxs(h.Fragment,{children:[h.jsx(b("WIGFileSelector.react"),{onFilesSelected:r,accept:["image/*"],children:function(a){s=a;return c}}),h.jsx(k,{shown:n,onHide:function(){o({type:"reset"})},description:m})]})};return h.jsx(b("WorkGalahadDropdownMenuItem.react"),{id:"chat-photo-upload",LinkRenderer:a,label:e,icons:d,desc:c,isLoading:l,hideOnClick:!1,onClick:function(){s&&s()}})}function k(a){var c=a.description,d=a.onHide;a=a.shown;return h.jsxs(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},isStrictlyControlled:!0,onHide:d,shown:a,width:400,children:[h.jsx(b("XUIDialogTitle.react"),{children:g._("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u043e\u0442\u043e \u0433\u0440\u0443\u043f\u043f\u044b")}),h.jsx(b("XUIDialogBody.react"),{children:c}),h.jsx(b("XUIDialogFooter.react"),{children:h.jsx(b("XUIDialogOkayButton.react"),{use:"confirm",action:"cancel"})})]})}e.exports=a}),null);
__d("WorkGalahadCreateGroupFromChatMenuItem.react",["fbt","JSResource","MessengerParticipants.re","React","WIGDropdownMenuItem.react","useWIGLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("JSResource")("WorkGalahadCreateGroupFromChatDialog.react").__setRef("WorkGalahadCreateGroupFromChatMenuItem.react");function a(a){var c=a.thread;a=b("useWIGLazyDialog")(i);var d=a[0];return h.jsx(b("WIGDropdownMenuItem.react"),{id:"create-group",icons:"group_plus",label:g._("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443"),onClick:function(){d({onClose:function(){},thread:c,participants:c.participants.map(b("MessengerParticipants.re").getNow).filter(Boolean)})}},"create-group")}e.exports=a}),null);
__d("WorkGalahadDeleteChatMenuItem.react",["fbt","JSResource","MessagingTag","React","WIGDropdownMenuItem.react","useWIGLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("JSResource")("WorkGalahadDeleteChatHistoryDialog.react").__setRef("WorkGalahadDeleteChatMenuItem.react"),j=b("JSResource")("WorkGalahadHideChatDialog.react").__setRef("WorkGalahadDeleteChatMenuItem.react"),k=function(a){var c=a.showDescription,d=a.showHideButton,e=a.thread;a=b("useWIGLazyDialog")(i);var f=a[0];a={label:g._("\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439"),desc:g._("\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043f\u0438\u044e \u044d\u0442\u043e\u0433\u043e \u0447\u0430\u0442\u0430 \u0438 \u0432\u0441\u0435\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0432 \u043d\u0435\u043c."),onClick:function(){f({showHideButton:d,thread:e,onClose:function(){}})}};if(!c){delete a.desc;return h.jsx(b("WIGDropdownMenuItem.react"),babelHelpers["extends"]({id:"delete-chat-history",icons:"trash"},a))}return h.jsx(b("WIGDropdownMenuItem.react"),babelHelpers["extends"]({id:"delete-chat-history"},a))},l=function(a){var c=a.thread;a=b("useWIGLazyDialog")(j);var d=a[0];return h.jsx(b("WIGDropdownMenuItem.react"),{id:"hide-chat-permanently",label:g._("\u0421\u043a\u0440\u044b\u0442\u044c \u043d\u0430\u0432\u0441\u0435\u0433\u0434\u0430"),desc:g._("\u042d\u0442\u043e\u0442 \u0447\u0430\u0442 \u0431\u0443\u0434\u0435\u0442 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d \u0432 \u0440\u0430\u0437\u0434\u0435\u043b \"\u0421\u043a\u0440\u044b\u0442\u044b \u043d\u0430\u0432\u0441\u0435\u0433\u0434\u0430\". \u041e\u043d \u0431\u0443\u0434\u0435\u0442 \u0442\u0430\u043c, \u043f\u043e\u043a\u0430 \u0432\u044b \u043d\u0435 \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u0435 \u044d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435."),onClick:function(){d({thread:c,onClose:function(){}})}})};function a(a){a=a.thread;var c=a.folder===b("MessagingTag").OTHER;if(!a.is_subscribed||a.is_archived||c)return h.jsx(k,{showHideButton:!1,showDescription:!1,thread:a});var d=[];c||d.push(h.jsx(l,{thread:a},"hide-chat-permanently"));d.push(h.jsx(k,{showHideButton:!0,showDescription:!0,thread:a},"delete-chat-history"));return h.jsx(b("WIGDropdownMenuItem.react"),{id:"remove-chat",icons:"trash",label:g._("\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0447\u0430\u0442"),items:d},"remove-chat")}e.exports=a}),null);
__d("WorkGalahadDropdownMenuHelper",["React","WIGDropdownMenuItem.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a={createItemsFromSections:function(a,c){c===void 0&&(c="separator");return a.reduce(function(a,d){if(d.length===0)return a;if(a.length===0)return d;var e=a.length;return[].concat(a,[g.jsx(b("WIGDropdownMenuItem.react").Separator,{},c+"-"+e)],d)},[])}};e.exports=a}),null);
__d("WorkGalahadEditChatColorDropdownMenuItem.react",["fbt","JSResource","React","WIGDropdownMenuItem.react","useWIGLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=a.thread;a=b("useWIGLazyDialog")(b("JSResource")("WorkGalahadChangeColourDialog.react").__setRef("WorkGalahadEditChatColorDropdownMenuItem.react"));var d=a[0];return h.jsx(b("WIGDropdownMenuItem.react"),{id:"edit-chat-color",icons:"color",label:g._("\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0446\u0432\u0435\u0442"),onClick:function(){d({thread:c})}},"edit-chat-color")}e.exports=a}),null);
__d("WorkGalahadEditChatNameDropdownMenuItem.react",["fbt","JSResource","React","WIGDropdownMenuItem.react","useWIGLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("JSResource")("WorkGalahadRenameChatThreadDialog.react").__setRef("WorkGalahadEditChatNameDropdownMenuItem.react");function a(a){var c=a.onSave,d=a.previousThreadName;a=b("useWIGLazyDialog")(i);var e=a[0];return h.jsx(b("WIGDropdownMenuItem.react"),{id:"rename-chat",icons:"text",label:g._("\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c \u0447\u0430\u0442"),hideOnClick:!1,onClick:function(){e({onSave:c,previousThreadName:d})}},"rename-chat")}e.exports=a}),null);
__d("WorkGalahadEditChatNicknamesDropdownMenuItem.react",["fbt","CurrentUser","JSResource","MercuryThreadActions","MercuryThreadInfo","React","WIGDropdownMenuItem.react","useWIGLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("JSResource")("MWChatChangeNicknameDialog").__setRef("WorkGalahadEditChatNicknamesDropdownMenuItem.react");function a(a){var c=a.thread,d=babelHelpers.objectWithoutPropertiesLoose(a,["thread"]);a=b("useWIGLazyDialog")(i);var e=a[0];a=a[1];return h.jsx("div",{ref:a,children:h.jsx(b("WIGDropdownMenuItem.react"),{id:"edit-chat-nicknames",icons:"pencil_underline",label:g._("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u044b"),onClick:function(){var a;e(babelHelpers["extends"]({},d,{nicknames:(a=c.custom_nickname)!=null?a:{},onNicknameChange:function(a,d){b("MercuryThreadInfo").isEmptyLocalThread(c)||b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID()).changeThreadNicknames(c.thread_id,a,d,"thread_settings")}}))}},"edit-chat-nicknames")})}e.exports=a}),null);
__d("WorkGalahadReportChatMenuItem.react",["fbt","JSResource","MessengerFRXBootloaderUtils","React","WIGDropdownMenuItem.react","useWIGLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("JSResource")("WorkGalahadReportChatParticipantDialog.react").__setRef("WorkGalahadReportChatMenuItem.react");function a(a){var c=a.thread;a=a.isSubtitleVisible;var d=b("useWIGLazyDialog")(i),e=d[0];return h.jsx(b("WIGDropdownMenuItem.react"),{id:"report-chat",icons:"report",label:g._("\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0447\u0430\u0442"),desc:a?g._("\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043e\u0442\u0437\u044b\u0432 \u0438\u043b\u0438 \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0447\u0442\u043e-\u0442\u043e, \u0447\u0435\u043c \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u043f\u043e\u0434\u0435\u043b\u0438\u043b\u0441\u044f \u0432 \u044d\u0442\u043e\u043c \u0447\u0430\u0442\u0435"):null,onClick:function(){c.is_canonical?b("MessengerFRXBootloaderUtils").bootloadFRXDialog(c.thread_id):e({thread:c,onClose:function(){}})}})}e.exports=a}),null);
__d("WorkGalahadChatMenuHelper",["fbt","requireCond","CurrentUser","FollowButtonFollowMutation","FollowButtonUnfollowMutation","JSResource","MercuryIDs","MercuryIgnoredBlockedParticipants.re","MercuryThreadActions","MercuryThreadInfo","MessagingTag","MessengerActions","MessengerAdminGroupUtils","MessengerComposerActions","MessengerGroupUtils.re","MessengerParticipants.re","MessengerState.re","React","WIGDropdownMenuItem.react","WorkForeignEntityInfo.re","WorkGalahadBlockChatDropdownMenuItem.react","WorkGalahadChangeChatEmojiDropdownMenuItem.react","WorkGalahadChangeChatPhotoMenuItem.react","WorkGalahadCreateGroupFromChatMenuItem.react","WorkGalahadDeleteChatMenuItem.react","WorkGalahadDropdownMenuHelper","WorkGalahadEditChatColorDropdownMenuItem.react","WorkGalahadEditChatNameDropdownMenuItem.react","WorkGalahadEditChatNicknamesDropdownMenuItem.react","WorkGalahadReportChatMenuItem.react","cr:1278240","cr:1278241","formatDate","gkx","immutable","nullthrows","stylex","useWIGLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j=b("JSResource")("WorkGalahadLeaveThreadDialog.react").__setRef("WorkGalahadChatMenuHelper"),k=b("gkx")("1259767"),l={redLabel:{color:"eaqjevrq"},redLabelHovered:{color:"hk9qcz1a"}},m=3600,n={createMuteChatItems:function(a){var c=a==null?void 0:a.mute_until,d=g._("\u0412\u044b\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0447\u0430\u0442\u0430"),e=g._("\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0432\u044b\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\u0445"),f=n.isChatMuted(a);f&&(d=g._("\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0447\u0430\u0442\u0430"),e=function(a){a=a.hovered;return i.jsx("span",{className:(h||(h=b("stylex")))(l.redLabel,a&&l.redLabelHovered),children:c===-1?g._("\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u044b \u043d\u0430 \u043d\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f"):g._("\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u044b \u0434\u043e {date}",[g._param("date",b("formatDate")(c,{today:"g:ia",withinDay:"g:ia",thisYear:"M jS, g:ia",future:"M d, Y g:ia"}))])})});return f?[i.jsx(b("WIGDropdownMenuItem.react"),{id:"chat-notification",label:d,desc:e,icons:"bell_null",onClick:function(){return n.unmuteChat(a)}},"chat-notification")]:[i.jsx(b("WIGDropdownMenuItem.react"),{id:"chat-notification",label:d,desc:e,icons:"bell_null_cross",items:n.createChatMuteOptionsMenu(!0,function(b){n.muteChat(a,b)},a)},"chat-notification")]},isChatMuted:function(a){a=a==null?void 0:a.mute_until;return a!=null&&Number.isInteger(a)&&(a===-1||a*1e3>Date.now())},unmuteChat:function(a){if(a==null||!n.isChatMuted(a))return;b("MercuryThreadActions").getForFBID(b("CurrentUser").getID()).updateMuteSetting(a.thread_id,0)},muteChat:function(a,c){if(a==null)return;b("MercuryThreadActions").getForFBID(b("CurrentUser").getID()).updateMuteSetting(a.thread_id,c)},createGroupChatMuteExplanationItem:function(){return i.jsx(b("WIGDropdownMenuItem.react"),{id:"mention",label:g._("\u0412\u0430\u043c \u0431\u0443\u0434\u0443\u0442 \u0441\u043e\u043e\u0431\u0449\u0430\u0442\u044c \u043e\u0431 {\u0040mentions} \u0432 \u044d\u0442\u043e\u043c \u0447\u0430\u0442\u0435, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u044b.",[g._param("@mentions",i.jsx("strong",{children:"@mentions"}))]),isStatic:!0},"mention")},createChatMuteOptionsMenu:function(a,c,d){return[i.jsx(b("WIGDropdownMenuItem.react").Header,{label:g._("\u0412\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439 \u044d\u0442\u043e\u0433\u043e \u0447\u0430\u0442\u0430...")},"mute-chat-header")].concat(n.createChatMuteOptionItems(a,c)).concat(d!=null&&!d.is_canonical?[i.jsx(b("WIGDropdownMenuItem.react").Separator,{},"mute-chat-separator"),n.createGroupChatMuteExplanationItem()]:[])},createChatMuteOptionItems:function(a,c){var d;return[i.jsx(d=b("WIGDropdownMenuItem.react"),{id:"chat-mute-1-hour",label:g._("\u041d\u0430 1 \u0447\u0430\u0441"),onClick:function(){c(m)},navigateBackOnClick:a},"chat-mute-1-hour"),i.jsx(d,{id:"chat-mute-2-hour",label:g._("\u041d\u0430 2 \u0447\u0430\u0441\u0430"),onClick:function(){c(2*m)},navigateBackOnClick:a},"chat-mute-2-hour"),i.jsx(d,{id:"chat-mute-until-tomorrow",label:g._("\u0414\u043e 8:00 \u0437\u0430\u0432\u0442\u0440\u0430"),onClick:function(){var a=new Date(),b=a.getHours()>=8;b&&a.setDate(a.getDate()+1);a.setHours(8,0,0,0);c(Math.ceil((a.getTime()-Date.now())/1e3))},navigateBackOnClick:a},"chat-mute-until-tomorrow"),i.jsx(d,{id:"chat-mute-next-week",label:g._("\u0414\u043e \u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u043d\u0435\u0434\u0435\u043b\u0438 (8:00 \u0432 \u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a)"),onClick:function(){var a=new Date();a.setDate(a.getDate()+(7-a.getDay())%7+1);a.setHours(8,0,0,0);c(Math.ceil((a.getTime()-Date.now())/1e3))},navigateBackOnClick:a},"chat-mute-next-week"),i.jsx(d,{id:"chat-mute-until-changed",label:g._("\u041f\u043e\u043a\u0430 \u044f \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u044e \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),onClick:function(){c(-1)},navigateBackOnClick:a},"chat-mute-until-changed")]},createCustomizeItems:function(a){var c=[];!a.is_canonical&&!a.work_associated_group&&(a.is_subscribed&&!a.is_canonical&&b("MessengerAdminGroupUtils").canUpdateThreadCustomization(a,b("CurrentUser").getAccountID())&&(b("gkx")("997564")||c.push(i.jsx(b("WorkGalahadEditChatNameDropdownMenuItem.react"),{previousThreadName:a.name,onSave:function(c){b("MercuryThreadInfo").isEmptyLocalThread(a)||b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID()).changeGroupThreadName(a.thread_id,c)}},"rename-chat")),c.push(i.jsx(b("WorkGalahadChangeChatPhotoMenuItem.react"),{icons:"photo",label:g._("\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0444\u043e\u0442\u043e \u0447\u0430\u0442\u0430"),threadID:a.thread_id},"change-chat-photo"),i.jsx(b("WIGDropdownMenuItem.react").Separator,{},"customize-options-separator"))));a.customization_enabled&&(c.push(i.jsx(b("WorkGalahadEditChatNicknamesDropdownMenuItem.react"),{thread:a,participants:b("immutable").OrderedMap(a.participants.reduce(function(a,c){return babelHelpers["extends"]({},a,(a={},a[c]=b("MessengerParticipants.re").getNow(c),a))},{})).toObject(),onClose:function(){}},"edit-chat-nicknames")),c.push(i.jsx(b("WorkGalahadEditChatColorDropdownMenuItem.react"),{thread:a},"edit-chat-color")),c.push(i.jsx(b("WorkGalahadChangeChatEmojiDropdownMenuItem.react"),{thread:a},"change-chat-emoji")));if(c.length===0)return[];var d=a.is_canonical||a.work_associated_group?g._("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0441\u043c\u0430\u0439\u043b\u0438\u043a, \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u044b \u0438 \u0434\u0440\u0443\u0433\u043e\u0435"):g._("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0447\u0430\u0442\u0430, \u0444\u043e\u0442\u043e \u0438 \u0434\u0440\u0443\u0433\u043e\u0435");return[i.jsx(b("WIGDropdownMenuItem.react"),{id:"customize-chat",icons:"pencil",label:g._("\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0447\u0430\u0442"),desc:d,items:[i.jsx(b("WIGDropdownMenuItem.react").Header,{label:g._("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0447\u0430\u0442\u0430")},"customize-chat-header")].concat(c)},"customize-chat")]},getOnHideChatCallback:function(a){return function(){var c=b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID());a.is_pinned===!0&&c.unpin(a.thread_id);c.archive(a.thread_id);b("MessengerActions").selectThread(null)}},getOnUnhideChatCallback:function(a){return function(){var c=b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID());a.is_archived===!0&&c.unarchive(a.thread_id);a.folder===b("MessagingTag").OTHER&&c.changeFolder(a.thread_id,b("MessagingTag").INBOX);b("MessengerActions").selectThread(a.thread_id)}},createHideChatItems:function(a){var c=a.folder===b("MessagingTag").OTHER;if(!a.is_archived&&!c)return[i.jsx(b("WIGDropdownMenuItem.react"),{id:"hide-chat",label:k?g._("\u0410\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c"):g._("\u0421\u043a\u0440\u044b\u0442\u044c \u0447\u0430\u0442"),icons:k?"box":"hide",desc:k?null:g._("\u0421\u043a\u0440\u044b\u0442\u044c \u044d\u0442\u043e\u0442 \u0447\u0430\u0442 \u0438\u0437 \u0432\u0445\u043e\u0434\u044f\u0449\u0438\u0445"),onClick:this.getOnHideChatCallback(a)},"hide-chat")];else return[i.jsx(b("WIGDropdownMenuItem.react"),{id:"unhide-chat",label:k?g._("\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0438\u0437 \u0430\u0440\u0445\u0438\u0432\u0430"):g._("\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0447\u0430\u0442"),icons:"undo",desc:k?null:g._("\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u0447\u0430\u0442 \u0432\u043e \u0432\u0445\u043e\u0434\u044f\u0449\u0438\u0445"),onClick:this.getOnUnhideChatCallback(a)},"unhide-chat")]},createRemoveChatItems:function(a){return[i.jsx(b("WorkGalahadDeleteChatMenuItem.react"),{thread:a},"delete-chat-wrapper")]},useBlockMessagesItems:function(a){var c=b("CurrentUser").getID(),d=!1;b("MessengerState.re").compute(c,function(e){e=e.blocked_ids;d=b("MercuryIgnoredBlockedParticipants.re").qualifiesAs(c,e,a)});var e=b("MercuryIDs").getParticipantIDFromFromThreadID(a.thread_id);e=e!=null?b("MessengerParticipants.re").getNow(e):null;if(e==null)return[];return!b("MercuryIgnoredBlockedParticipants.re").shouldShowBlock(a,c,e)?[]:[i.jsx(b("WorkGalahadBlockChatDropdownMenuItem.react"),{isBlocked:d,thread:a},"block-chat")]},createReportChatItems:function(a,c){var d=b("CurrentUser").getID();if(a.message_count===0||a.participants.length<=1)return[];return a.participants.map(function(a){return b("MessengerParticipants.re").getNow(a)}).find(function(a){return(a==null?void 0:a.id)!==b("MercuryIDs").getParticipantIDFromUserID(d)&&(a==null?void 0:a.user_type)!=="page"})==null?[]:[i.jsx(b("WorkGalahadReportChatMenuItem.react"),{thread:a,isSubtitleVisible:c},"report-chat")]},createChatPrivacySubMenuItems:function(a){if(a==null)return[];var c=a.other_user_fbid===b("CurrentUser").getID(),d=b("MercuryThreadInfo").isEmptyLocalThread(a),e=this.useBlockMessagesItems(a);if(!a.is_subscribed||c||d)return[];c=n.createReportChatItems(a,!0);return b("WorkGalahadDropdownMenuHelper").createItemsFromSections([[].concat(c),[].concat(e)])},createPrivacyItems:function(a){var c=n.createChatPrivacySubMenuItems(a);if(a==null)return[];if(c.length===0)return[];return c.length===1?n.createReportChatItems(a,!1):[i.jsx(b("WIGDropdownMenuItem.react"),{id:"privacy-chat-options",icons:"privacy",label:g._("\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"),items:[i.jsx(b("WIGDropdownMenuItem.react").Header,{id:"privacy-options-header",label:g._("\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438")},"privacy-options-header")].concat(c)},"privacy-chat-options")]},createAddMembersItems:function(a){return b("cr:1278240")?[i.jsx(b("cr:1278240"),{thread:a},"add-members")]:[]},createPinOrUnpinItems:function(a){if(!a.is_pinned&&(!a.is_subscribed||a.message_count===0))return[];if(!a.is_pinned)return[i.jsx(b("WIGDropdownMenuItem.react"),{id:"pin-chat",icons:"pushpin",label:k?g._("\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u0441\u0432\u0435\u0440\u0445\u0443"):g._("\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u0447\u0430\u0442"),desc:k?null:g._("\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u0447\u0430\u0442 \u0432 \u0432\u0435\u0440\u0445\u043d\u0435\u0439 \u0447\u0430\u0441\u0442\u0438 \u043f\u0430\u043f\u043a\u0438 \"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435\""),onClick:function(){b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID()).pin(a.thread_id,"menu_item_in_overflow_menu")}},"pin-unpin-chat")];else return[i.jsx(b("WIGDropdownMenuItem.react"),{id:"unpin-chat",icons:"pushpin_slash",label:k?g._("\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0438\u0435"):g._("\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0438\u0435 \u0447\u0430\u0442\u0430"),desc:k?null:g._("\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u0435 \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0438\u0435 \u044d\u0442\u043e\u0433\u043e \u0447\u0430\u0442\u0430 \u0432 \u043f\u0430\u043f\u043a\u0435 \"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435\""),onClick:function(){b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID()).unpin(a.thread_id,"menu_item_in_overflow_menu")}},"pin-unpin-chat")]},createFollowOrUnfollowItems:function(a,c){if(a.participants.length>2||a.other_user_fbid==null||!b("gkx")("997564"))return[];if(c==="CAN_SUBSCRIBE")return[i.jsx(b("WIGDropdownMenuItem.react"),{id:"follow",icons:"follow",label:g._("\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u0432 \u041b\u0435\u043d\u0442\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439"),onClick:function(){b("FollowButtonFollowMutation").commit(b("nullthrows")(a.other_user_fbid),"PROFILE")}},"follow")];else if(c==="IS_SUBSCRIBED")return[i.jsx(b("WIGDropdownMenuItem.react"),{id:"unfollow",icons:"unfollow",label:g._("\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443 \u0432 \u041b\u0435\u043d\u0442\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439"),onClick:function(){b("FollowButtonUnfollowMutation").commit(b("nullthrows")(a.other_user_fbid),"PROFILE")}},"unfollow")];else return[]},createAdminOptionsItems:function(a){var c=b("MessengerAdminGroupUtils").isAdmin(a.admins,b("CurrentUser").getID());if(a.is_canonical||!c)return[];c=!b("MessengerAdminGroupUtils").isApprovalOpenThread(a);c=[i.jsx(b("WIGDropdownMenuItem.react").Header,{label:g._("\u041e\u0434\u043e\u0431\u0440\u0435\u043d\u0438\u0435 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432")},"chat-admin-options-header"),i.jsx(b("WIGDropdownMenuItem.react").Radio,{id:"membership-approval-on",label:g._("\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u043e"),desc:g._("\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u044b \u043c\u043e\u0433\u0443\u0442 \u043e\u0434\u043e\u0431\u0440\u044f\u0442\u044c \u043d\u043e\u0432\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u0434\u0440\u0443\u0433\u0438\u0435 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438."),isChecked:c,onClick:function(){b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID()).setApprovalMode(1,a)}},"membership-approval-on"),i.jsx(b("WIGDropdownMenuItem.react").Radio,{id:"membership-approval-off",label:g._("\u0412\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u043e"),desc:g._("\u041b\u044e\u0431\u043e\u0439 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a \u043c\u043e\u0436\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043d\u043e\u0432\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0432 \u0447\u0430\u0442 \u0431\u0435\u0437 \u043e\u0434\u043e\u0431\u0440\u0435\u043d\u0438\u044f."),isChecked:!c,onClick:function(){b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID()).setApprovalMode(0,a)}},"membership-approval-off")];var d=b("immutable").OrderedMap(a.participants.reduce(function(a,c){return babelHelpers["extends"]({},a,(a={},a[c]=b("MessengerParticipants.re").getNow(c),a))},{}));d=!b("WorkForeignEntityInfo.re").areAllCoworkers(d);a.is_subscribed&&!a.work_associated_group&&!d&&(c.push(i.jsx(b("WIGDropdownMenuItem.react").Separator,{},"admin-create-group-option-separator")),c.push(i.jsx(b("WorkGalahadCreateGroupFromChatMenuItem.react"),{thread:a},"create-group")));return[i.jsx(b("WIGDropdownMenuItem.react"),{id:"chat-admin-options",icons:"badge_admin",label:g._("\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430"),items:c},"chat-admin-options")]},useCreateLeaveItems:function(a){var c=b("useWIGLazyDialog")(j),d=c[0];return a==null||a.is_canonical||!a.is_subscribed?[]:[i.jsx(b("WIGDropdownMenuItem.react"),{id:"leave-chat",icons:"leave",label:g._("\u041f\u043e\u043a\u0438\u043d\u0443\u0442\u044c"),onClick:function(){d({thread:a})}},"leave-chat")]},createNewGroupChatItems:function(a){return!a.is_canonical_user&&a.thread_type===1?[]:[i.jsx(b("WIGDropdownMenuItem.react"),{id:"new-chat",icons:"messages_compose",label:g._("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u043e\u0432\u043e\u0439 \u0447\u0430\u0442"),onClick:function(){var c=b("immutable").OrderedMap(a.participants.reduce(function(a,c){return babelHelpers["extends"]({},a,(a={},a[c]=b("MessengerParticipants.re").getNow(c),a))},{}));b("MessengerComposerActions").exitComposeStateAbandonSearch();b("MessengerGroupUtils.re").createGroupThread(c,b("CurrentUser").getID())}},"new-chat")]},createMarkAsReadOrUnreadItems:function(a){return a.unread_count>0?[i.jsx(b("WIGDropdownMenuItem.react"),{id:"mark-as-read",icons:"envelope_open",label:g._("\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u043a\u0430\u043a \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043d\u043e\u0435"),onClick:function(){b("MercuryThreadActions").getForFBID(b("CurrentUser").getID()).markRead(a.thread_id)}},"mark-as-read-unread")]:[i.jsx(b("WIGDropdownMenuItem.react"),{id:"mark-as-unread",icons:"envelope",label:g._("\u041f\u043e\u043c\u0435\u0442\u0438\u0442\u044c \u043a\u0430\u043a \u043d\u0435\u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043d\u043e\u0435"),onClick:function(){b("MercuryThreadActions").getForFBID(b("CurrentUser").getID()).markUnread(a.thread_id)}},"mark-as-read-unread")]},createChatChannelOverflowMenuItems:function(a){if(k){var c;return b("WorkGalahadDropdownMenuHelper").createItemsFromSections([b("cr:1278241")?[i.jsx(b("cr:1278241"),{thread:a,groupID:(c=a.work_associated_group)==null?void 0:c.id,isMuted:a.mute_until!=null},"notification-options")]:null,[].concat(n.createPinOrUnpinItems(a),n.createMarkAsReadOrUnreadItems(a)),[].concat(n.createHideChatItems(a),n.useCreateLeaveItems(a))].filter(Boolean))}return b("WorkGalahadDropdownMenuHelper").createItemsFromSections([n.createPinOrUnpinItems(a),[].concat(n.createMuteChatItems(a),n.createHideChatItems(a)),[].concat(n.createMarkAsReadOrUnreadItems(a),n.createRemoveChatItems(a),n.useCreateLeaveItems(a))])}};e.exports=n}),null);
__d("WorkGalahadChatChannelOverflowMenu.react",["React","WIGDropdownMenu.react","WorkGalahadChatMenuHelper"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.label;a=a.thread;return g.jsx(b("WIGDropdownMenu.react"),{items:b("WorkGalahadChatMenuHelper").createChatChannelOverflowMenuItems(a),label:c,width:280,offsetX:-12})}e.exports=g.memo(a)}),null);